<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Enigma: Query</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Enigma
   </div>
   <div id="projectbrief">A short game by Opal Shipyards</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Query<div class="ingroups"><a class="el" href="group__Core.html">Core</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Functions for accessing components based on conditions.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structEntityList.html">EntityList</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The entity list datatype, which is used to store the output of a query.  <a href="structEntityList.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gaea8e2d9412cbf0d8ae7a288c38c01b29"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structEntityList.html">EntityList</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Query.html#gaea8e2d9412cbf0d8ae7a288c38c01b29">EntityList</a></td></tr>
<tr class="memdesc:gaea8e2d9412cbf0d8ae7a288c38c01b29"><td class="mdescLeft">&#160;</td><td class="mdescRight">The entity list datatype, which is used to store the output of a query.  <a href="group__Query.html#gaea8e2d9412cbf0d8ae7a288c38c01b29">More...</a><br /></td></tr>
<tr class="separator:gaea8e2d9412cbf0d8ae7a288c38c01b29"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaab44bc0c4b5c4890b40b07f25be0a015"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structEntityList.html">EntityList</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Query.html#gaab44bc0c4b5c4890b40b07f25be0a015">component_mask</a> (int,...)</td></tr>
<tr class="memdesc:gaab44bc0c4b5c4890b40b07f25be0a015"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queries the system and returns a list of entities containing the provided components.  <a href="group__Query.html#gaab44bc0c4b5c4890b40b07f25be0a015">More...</a><br /></td></tr>
<tr class="separator:gaab44bc0c4b5c4890b40b07f25be0a015"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0a4e238f1d0bb2c2734a1dabefdf906b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structEntityList.html">EntityList</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Query.html#ga0a4e238f1d0bb2c2734a1dabefdf906b">predicate_mask</a> (bool(*predicate)(int))</td></tr>
<tr class="memdesc:ga0a4e238f1d0bb2c2734a1dabefdf906b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queries the system to find entities which match some component function.  <a href="group__Query.html#ga0a4e238f1d0bb2c2734a1dabefdf906b">More...</a><br /></td></tr>
<tr class="separator:ga0a4e238f1d0bb2c2734a1dabefdf906b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa5dfed0c76c249d3c17e755014afc2d2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Query.html#gaa5dfed0c76c249d3c17e755014afc2d2">first_match</a> (bool(*predicate)(int))</td></tr>
<tr class="memdesc:gaa5dfed0c76c249d3c17e755014afc2d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the first entity which matches some predicate function.  <a href="group__Query.html#gaa5dfed0c76c249d3c17e755014afc2d2">More...</a><br /></td></tr>
<tr class="separator:gaa5dfed0c76c249d3c17e755014afc2d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Functions for accessing components based on conditions. </p>
<p>The functinos in query are deisgned primarily for defining and programming a system. They provide a variety of ways to access the components in the underlying ECS; </p>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="gaea8e2d9412cbf0d8ae7a288c38c01b29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaea8e2d9412cbf0d8ae7a288c38c01b29">&#9670;&nbsp;</a></span>EntityList</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structEntityList.html">EntityList</a> <a class="el" href="structEntityList.html">EntityList</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The entity list datatype, which is used to store the output of a query. </p>
<p>The entity list is essentially an array with two variables: the length (len) and array (entities). The entities array stores the integer ids which can be used to access the components of the entity via <a class="el" href="group__Base.html#gac4a80c3a238d32f76cfd6a6b5c3c8586" title="gets the component of a specific type from the provided entity">get_component()</a>; </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaab44bc0c4b5c4890b40b07f25be0a015"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaab44bc0c4b5c4890b40b07f25be0a015">&#9670;&nbsp;</a></span>component_mask()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structEntityList.html">EntityList</a> component_mask </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Queries the system and returns a list of entities containing the provided components. </p>
<p>A basic way to query information in the system. Gives only the entities which have the requested components, as represented by the input mask.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mask</td><td>A set of ComponentType enums which tell the query which components we want the entities to have.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A list containing entities which have at least the desired components </dd></dl>

</div>
</div>
<a id="gaa5dfed0c76c249d3c17e755014afc2d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa5dfed0c76c249d3c17e755014afc2d2">&#9670;&nbsp;</a></span>first_match()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int first_match </td>
          <td>(</td>
          <td class="paramtype">bool(*)(int)&#160;</td>
          <td class="paramname"><em>predicate</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the first entity which matches some predicate function. </p>
<p>To be used when you expect there to be only a single copy of an entity in the game. e.g. the player. Primarily exists to save efficiency, as the function can return the first hit. The engine iself makes no guarantee as to the uniqueness of the returned entity id</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">predicate</td><td>A function which returns some boolean value given an entity id. The function returns as soon as this value is true</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an integer corresponding to the id of the first entity to match the predicate </dd></dl>

</div>
</div>
<a id="ga0a4e238f1d0bb2c2734a1dabefdf906b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0a4e238f1d0bb2c2734a1dabefdf906b">&#9670;&nbsp;</a></span>predicate_mask()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structEntityList.html">EntityList</a> predicate_mask </td>
          <td>(</td>
          <td class="paramtype">bool(*)(int)&#160;</td>
          <td class="paramname"><em>predicate</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Queries the system to find entities which match some component function. </p>
<p>The function passed in itself takes in an integer representing an entity, which can be any they appear in the mask.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">predicate</td><td>A function which returns some boolean value given an entity id. It is used to filter out all entities for which the predicate is false</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A list containing all entities which match the predicate </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
